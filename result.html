<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ton rÃ©sultat personnalisÃ©</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <script src="data.js"></script>
</head>

<body>

    <div class="container">
        <h1>ðŸŽ‰ HIHIHIHAHAHA ðŸŽ‰</h1>

        <div class="result-card">

            <div class="result-item">
                <div class="result-label">Ton prÃ©nom :</div>
                <div id="nameResult" class="result-value"></div>
            </div>


            <div class="result-item">
                <div class="result-label">Ton buddy :</div>
                <div id="buddyResult" class="result-value"></div>
            </div>

            <div class="result-item">
                <div class="result-label">Ton costume :</div>
                <div id="costumeResult" class="result-value">
                    <span id="costumeText"></span>
                    <br>
                    <img id="costumeImage" src="" alt="Costume">
                </div>
            </div>

            <div class="result-item">
                <div class="result-label">Ta contribution si tu l'acceptes:</div>
                <div id="paf" class="result-value"></div>
            </div>

            <div class="result-item">
                <div class="result-label">Petit message pour toi :</div>
                <div id="messageResult" class="result-value personal-message"></div>
            </div>

            <button onclick="window.location.href='index.html'" class="mt-3">Revenir</button>
        </div>
    </div>

    <!-- Import du fichier data.js -->
    <script src="data.js"></script>

    <script>
        // Lecture des paramÃ¨tres
        const url = new URLSearchParams(window.location.search);
        const name = url.get("name");
        let birthday = url.get("birthday");

        birthday = birthday.replace(/-/g, "/").trim();

        // Recherche dans DATA
        const profile = DATA.find(p =>
            p.name.toLowerCase() === name.toLowerCase()
        );


        if (!profile) {
            document.getElementById("buddyResult").textContent = "Aucun (pas trouvÃ© dans la liste)";
            document.getElementById("costumeText").textContent = "â€”";
            document.getElementById("costumeImage").style.display = "none";
            document.getElementById("messageResult").textContent = "Aucun message nâ€™a Ã©tÃ© trouvÃ© pour toi.";
        } else {
            document.getElementById("buddyResult").textContent = profile.buddy;
            document.getElementById("costumeText").textContent = profile.costume;
            document.getElementById("paf").textContent = profile.paf;

            if (profile.costumeImage) {
                const img = document.getElementById("costumeImage");
                img.src = profile.costumeImage;
                img.style.display = "block";
            }

            document.getElementById("messageResult").textContent = profile.message;
        }

        // Affiche le prÃ©nom et date
        document.getElementById("nameResult").textContent = name;
        document.getElementById("birthdayResult").textContent = birthday;
    </script>

</body>

</html>